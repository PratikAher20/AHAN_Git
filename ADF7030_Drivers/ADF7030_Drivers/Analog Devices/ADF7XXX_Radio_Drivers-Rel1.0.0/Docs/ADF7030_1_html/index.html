<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADF7030-1 Device Drivers API Reference Manual: ADF7030-1 Device Driver API Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADF7030-1 Device Drivers API Reference Manual
   &#160;<span id="projectnumber">Beta 0.2.5</span>
   </div>
   <div id="projectbrief">Device Drivers for ADF7030-1 Transceiver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ADF7030-1 Device Driver API Overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><br />
</p>
<h1><a class="anchor" id="ChipIntro"></a>
ADF7030-1 Introduction</h1>
<p><br />
<br />
 The ADF7030-1 is a fully integrated, radio transceiver achieving high performance at very low power. <br />
 The ADF7030-1 is ideally suited for applications that require long range, network robustness, and long battery life. <br />
 It is suitable for applications that operate in the ISM, SRD, and licensed frequency bands <br />
 at 169 MHz, 426 MHz to 470 MHz, and 862 MHz to 960 MHz. It provides extensive support for standards-based protocols <br />
 like IEEE802.15.4g while also providing flexibility to support a wide range of proprietary protocols. <br />
 <br />
 The highly configurable low intermediate frequency (IF) receiver supports a large range of IF bandwidths from 3.6 kHz to 487 kHz. <br />
 This allows the ADF7030-1 to support ultranarrow-band, narrow-band, and wideband channel spacing. <br />
 <br />
 The ADF7030-1 features two independent PAs supporting output power ranges of −20 dBm to +13 dBm and −20 dBm to +17 dBm. <br />
 The PAs support ultrafine adjustment of the power with a step resolution of 0.1 dB. The PA output power is exceptionally <br />
 robust over temperature and voltage. The PAs have an automatic power ramp control to prevent spectral splatter and help meet regulatory standards. <br />
 <br />
 The ADF7030-1 features an on-chip ARM® Cortex®-M0 processor that performs radio control, radio calibration, and packet management. <br />
 Cortex-M0 eases the processing burden of the host processor because the ADF7030-1 integrates the lower layers of a typical <br />
 communication protocol stack. This internal processor also permits the download and execution of Analog Devices, Inc., <br />
 provided firmware modules that can extend the functionality of the ADF7030-1. <br />
 <br />
 The ADF7030-1 has two packet modes: generic packet mode and IEEE802.15.4g mode. In generic packet mode, <br />
 the packet format is highly flexible and fully programmable, thereby ensuring its compatibility with proprietary packet formats. <br />
 In IEEE802.15.4g packet mode, the packet format conforms to the IEEE802.15.4g standard. FEC, as per the IEEE802.15.4g standard, is also supported. <br />
 <br />
 The ADF7030-1 operates with a power supply range of 2.2 V to 3.6 V and has very low power consumption in both Tx and Rx modes, <br />
 enabling long lifetimes in battery-operated systems. An ultralow power deep sleep mode achieves a typical current of 10 nA with <br />
 the configuration memory retained. <br />
 <br />
 The ADF7030-1 supports smart wake mode (SWM) where the ADF7030-1 can wake up autonomously from sleep using an internal RTC <br />
 without intervention from the host processor. After wake-up, the ADF7030-1 operates autonomously. This functionality allows <br />
 carrier sense, packet sniffing, and packet reception while the host processor is in sleep, thereby reducing overall system current consumption. <br />
 The ADF7030-1 autonomous operation can also be triggered by the Host processor using the interrupt input of the ADF7030-1. <br />
 <br />
 A complete wireless solution can be built using a small number of external discrete components and a host processor (typically a microcontroller). <br />
 The host processor can configure the ADF7030-1 using a simple command-based protocol over a standard 4-wire SPI interface. <br />
 A single-byte command transitions the radio between states or performs a radio function. <br />
 <br />
 The ADF7030-1 is available in two package types: a 6 mm × 6 mm 40-lead LFCSP and a 7 mm × 7 mm 48-lead LQFP. <br />
 Both package types use NiPdAu plating to mitigate against silver migration in high humidity applications. <br />
 The ADF7030-1 operating temperature range is −40°C to +85°C. <br />
 <br />
 Applications <br />
 - IEEE 802.15.4g (MR-FSK PHY) <br />
 - Wireless M-Bus (EN 13757-4) <br />
 - Smart metering <br />
 - Security and building automation <br />
 - Active tag asset tracking <br />
 - Industrial control <br />
 - Wireless sensor networks (WSNs) <br />
<br />
 <a href="http://www.analog.com/en/products/rf-microwave/integrated-transceivers-transmitters-receivers/low-power-rf-transceivers/adf7030-1.html#product-overview">http://www.analog.com/en/products/rf-microwave/integrated-transceivers-transmitters-receivers/low-power-rf-transceivers/adf7030-1.html#product-overview</a> <br />
<br />
<br />
</p>
<h1><a class="anchor" id="DriverIntro"></a>
API Reference Manual</h1>
<p><br />
 This "ADF7030-1 Device Drivers API Reference Manual" documents a high-level language C <br />
 Programming environment providing an Application Programming Interface (API) <br />
 supporting a quick and easy functional interface to the ADF7030-1 low power transceiver peripherals. <br />
<br />
 Detailed knowledge of the various controller internals (control registers, <br />
 register mapping, bitmaps, etc.) is not required to make effective use of the <br />
 peripherals; simply open the device driver and use it. Basic familiarity with <br />
 the Cortex M3 architecture, relevant communications protocols and the third-party <br />
 development tools is assumed. <br />
<br />
 Various example are included to demonstrate use of the Device Driver programming model. <br />
<br />
</p>
<h1><a class="anchor" id="SettingStarted"></a>
Getting Started Guide</h1>
<p><br />
 Please visit <a href="http://www.analog.com/en/design-center/evaluation-hardware-and-software/evaluation-boards-kits/EVAL-ADF7030-1EZ-KIT.html">http://www.analog.com/en/design-center/evaluation-hardware-and-software/evaluation-boards-kits/EVAL-ADF7030-1EZ-KIT.html</a> <br />
 for information on the EVAL-ADF7030-1EZ-KIT and how to use it. <br />
<br />
 Please download the "ADF7030-1 Design Center" for generating configuration files for the Radio. <br />
 - <a href="http://www.analog.com/media/en/evaluation-boards-kits/evaluation-software/ADF7xxxEzKit_Design_Suite.zip">http://www.analog.com/media/en/evaluation-boards-kits/evaluation-software/ADF7xxxEzKit_Design_Suite.zip</a> <br />
<br />
</p>
<h1><a class="anchor" id="ReleaseNotes"></a>
Release Notes</h1>
<p><br />
 This driver is currently under development. This release is a beta version. ADI reserve the right to add and remove <br />
 functionality to this version of the driver. <br />
<br />
 <em>Rev Beta 0.2.5 (11/04/2017)</em> <br />
<br />
 - Add new <a class="el" href="group__adf7030-1____spi.html#gae598c37af797c9fb49fecd0e62b1bf77" title="Custom FAST API for Read/Write a number of byte(s) to the adf7030-1. ">adf7030_1__SPI_ReadWrite_Fast()</a> API call for fast SPI transfers. <br />
 Change <a class="el" href="group__adf7030-1____spi.html#gafcc201d7c62f9f31e0356e1af0f1327a" title="Change SPI Host to PHY Communication bitrate. ">adf7030_1__SPI_SetSpeed()</a> API to change SPI transaction speed. <br />
 DEFAULT_SPI_RATE is set at 3MHz and FAST_SPI_RATE at 6MHz. <br />
 Update all example projects to work with ADF7030_1_SPI_FAST_SHORTXFER_ENABLE. <br />
 - Add <a class="el" href="group__adf7030-1____patch.html#ga3102258e3a1861d13c16c82d1e68537f" title="Function call to perform PHY Radio patch self-checking. ">adf7030_1__SelfCheckPatch()</a> API function to verify integrity of firmware downloads. <br />
 Update "OfflineCalibration" example and its associated <a class="el" href="_c_a_l_i_b_r_a_t_i_o_n_s_8h.html" title="Firmware header file containing binaries of CALIBRATIONS patch. ">CALIBRATIONS.h</a> firmware. <br />
 - Add external GPIO API support via <a class="el" href="group__adf7030-1____gpio.html#ga45684a37c5d2439635217804413ffe62" title="Set an individual PHY Radio GPIO pin to 1. ">adf7030_1__GPIO_SetPin()</a> and <a class="el" href="group__adf7030-1____gpio.html#ga449cbea7e06ed580204e2fa4ffa26179" title="Clear an individual PHY Radio GPIO pin to 0. ">adf7030_1__GPIO_ClrPin()</a> <br />
 - Various C code modification targetting increase execution speed and reducing memory footprint. <br />
 - Update documentation. <br />
<br />
 <em>Rev Beta 0.2.4 (28/02/2017)</em> <br />
<br />
 - Add support for Muska platform. <br />
 - Examples projects support IAR, Keil and CCES on both Glue and Muska platform. <br />
 - Update documentation. <br />
<br />
 <em>Rev Beta 0.2.3 (6/01/2017)</em> <br />
<br />
 - Add runtime enable/disable of the ePhyError readback. <br />
 - Add support for Reset PIN as part of the driver. <br />
 - Remove call to <a class="el" href="group__adf7030-1____spi.html#ga0132e0a5b575d039e55214ea401126e8" title="Set SPI Radio mmap pointers access. ">adf7030_1__SPI_SetMMapPointers()</a> inside the <a class="el" href="group__adf7030-1____core.html#gaab9372b413f119016db09a7722b222c5" title="Setup the adf7030-1 instance by initialising its device info structure. It also calls adf7030_1__SPI_...">adf7030_1__Setup()</a>. <br />
 - Now only using a single irq callback routine for both IRQ Pins. <br />
 <br />
 - Rename adf7030_1__STATE_PhyReset into adf7030_1__STATE_PhyShutdown and update to the latest procedure. <br />
 - Add PHY_ERROR status reporting into the driver. <br />
 User can enable the feature by setting the define ADF7030_1_PHY_ERROR_REPORT_ENABLE and ADF7030_1_PHY_ERROR_REPORT_SCHEME. <br />
 Only the polling mechanism is supported. <br />
 - Add adf7030_1__ReadPartialDataBlock() ,<a class="el" href="group__adf7030-1____mem.html#gae2459967f63b227938db62e1b5388afc" title="Function call to partially write a section of the Host Data block. ">adf7030_1__WritePartialDataBlock()</a> and <a class="el" href="group__adf7030-1____mem.html#ga4373955bd51900d2f60a961005aa83cb" title="Function call to verify the integrity of a portion of a Host Data block. ">adf7030_1__VerifyPartialDataBlock()</a>. <br />
 <br />
 - Cleanup and update example projects under IAR and CCES. <br />
 - Update documentation. <br />
<br />
 <em>Rev Beta 0.2.2 (5/12/2016)</em> <br />
<br />
 - Add Full Support for ADI CrossCore Embedded Studio 2.5 (Windows and Linux). <br />
 Note: Requires a pre-release (IAR or Keil/CCES) Glue EZKit BSP 1.0.3 <br />
 <br />
 <em>Rev Beta 0.2.1 (29/11/2016)</em> <br />
<br />
 - Add Beta Support for ADI CrossCore Embedded Studio 2.4 (Windows and Linux). <br />
 Note: Requires a pre-release (IAR or Keil/CCES) Glue EZKit BSP 1.0.3 <br />
<br />
 <em>Rev Beta 0.2.0 (25/11/2016)</em> <br />
<br />
 - Add Beta Support for ADI CrossCore Embedded Studio 2.4 (Windows only). <br />
<br />
 <em>Rev Beta 0.1.0 (28/10/2016)</em> <br />
<br />
 - Add instance status handling. <br />
 - Support for GPIO PHY pinmux. <br />
 - Support GPIO command interface. <br />
 - Support ADI CrossCore Embedded Studio 2.4 or later. <br />
 <br />
 <em>Rev Alpha 0.0.1 (01/07/2016)</em> <br />
<br />
 - Add Interrupt handling interface. <br />
 - Add SPI command interface. <br />
 - Provides generic open() close() configure() API. <br />
 - Support multiple instances. <br />
 - Add error status return to most of the API calls. <br />
 - Now includes examples (Continuous TX testmodes, Offline Calibrations, Multiples TX packets monitoring). <br />
<br />
 <em>Todo</em> <br />
<br />
 - Add “script” interface between Host and Phy. <br />
 - Add more examples (Low Power Modes / Scripting, Generic Packet, 15.4). <br />
 - Add support for the new DMA SPI in Muska instead of using the PIO mode. <br />
 - Add "random" SPI memory access function calls. <br />
 - Speed up optimisation of SPI drivers. <br />
 <br />
 </p>
<h1><a class="anchor" id="ReleaseDependencies"></a>
Release Dependencies</h1>
<p><br />
 CrossCore Embedded Studio 2.5 or later, with CMSIS Support Pack <br />
 - <a href="http://download.analog.com/tools/CrossCoreEmbeddedStudio/Releases/Release_2.5.0/ADI_CrossCoreEmbeddedStudio-Rel2.5.0.exe">http://download.analog.com/tools/CrossCoreEmbeddedStudio/Releases/Release_2.5.0/ADI_CrossCoreEmbeddedStudio-Rel2.5.0.exe</a> <br />
 - <a href="https://www.keil.com/dd2/analogdevices/aducm3029/#third-party-download-dialog">https://www.keil.com/dd2/analogdevices/aducm3029/#third-party-download-dialog</a> <br />
<br />
 OR <br />
 <br />
 IAR embedded workbench version 7.40.1 or later, with "ADuCM302x Board Support Package" installed <br />
 - <a href="http://download.analog.com/tools/EZBoards/CM302x/Releases/Release_1.0.3/ADuCM302x_Software-Rel1.0.3.exe">http://download.analog.com/tools/EZBoards/CM302x/Releases/Release_1.0.3/ADuCM302x_Software-Rel1.0.3.exe</a> <br />
<br />
 OR <br />
<br />
 Keil IDE version 5.22 or later, with CMSIS Support Pack <br />
 - <a href="https://www.keil.com/demo/eval/arm.htm">https://www.keil.com/demo/eval/arm.htm</a> <br />
 - <a href="https://www.keil.com/dd2/analogdevices/aducm3029/#third-party-download-dialog">https://www.keil.com/dd2/analogdevices/aducm3029/#third-party-download-dialog</a> <br />
<br />
</p>
<h1><a class="anchor" id="Datasheet"></a>
ADF7030-1 Datasheet</h1>
<p><br />
 Please read "ADF7030-1 Datasheet" for general information on the ADF7030-1 integrated radio transceiver. <br />
 - <a href="http://www.analog.com/media/en/technical-documentation/data-sheets/ADF7030-1.pdf">http://www.analog.com/media/en/technical-documentation/data-sheets/ADF7030-1.pdf</a> <br />
<br />
</p>
<h1><a class="anchor" id="UserGuideHW"></a>
Hardware Reference Manual</h1>
<p><br />
 Please read the "ADF7030-1 Hardware Reference Manual" for general information the the <br />
 hardware of the adf7030-1. The Document can be downloaded at the following location <br />
 - <a href="http://www.analog.com/media/en/technical-documentation/user-guides/ADF7030-1-UG-957.pdf">http://www.analog.com/media/en/technical-documentation/user-guides/ADF7030-1-UG-957.pdf</a> (UG-957) <br />
<br />
</p>
<h1><a class="anchor" id="UserGuideFW"></a>
Software Reference Manual</h1>
<p><br />
 Please read the "ADF7030-1 Software Reference Manual" for general information the the <br />
 software interface to the adf7030-1. The Document can be downloaded at the following location <br />
 - <a href="http://www.analog.com/media/en/technical-documentation/user-guides/ADF7030-1-UG-1002.pdf">http://www.analog.com/media/en/technical-documentation/user-guides/ADF7030-1-UG-1002.pdf</a> (UG-1002) <br />
<br />
</p>
<h1><a class="anchor" id="Support"></a>
Technical or Customer Support</h1>
<p><br />
 You can reach Analog Devices, Inc. Customer Support at: </p><pre class="fragment"> -    Web access at
          - http://www.analog.com/support

 -    For IAR tool chain support please visit
          -http://www.iar.com/support 

 -    E-mail processor questions to
          - processor.support@analog.com
          - processor.china@analog.com (China and Taiwan only)

 -    Phone questions to 1-800-ANALOGD

 -    Contact your Analog Devices, Inc. local sales office or authorized distributor

 -    Send questions by mail to:
</pre> <div class="fragment"><div class="line">Analog Devices, Inc.</div><div class="line">3 Technology Way</div><div class="line">P.O. Box 9106</div><div class="line">Norwood, MA 02062-9106 USA</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
